<!--index.wxml-->
<view class="container">
  <!-- 头部标题 -->
  <view class="header">
    <text class="title">大乐透号码预测</text>
    <text class="subtitle">基于历史数据的智能推荐</text>
  </view>

  <!-- 数据状态显示 -->
  <view class="status-card card">
    <view class="status-item">
      <text class="status-label">数据状态：</text>
      <text class="status-value">{{dataStatus}}</text>
    </view>
    <view class="update-time" wx:if="{{lastUpdate}}">
      <text>最后更新：{{lastUpdate}}</text>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="action-buttons">
    <button class="btn btn-primary" bindtap="updateData" loading="{{updatingData}}">
      {{updatingData ? '更新中...' : '获取最新数据'}}
    </button>
    <button class="btn btn-secondary" bindtap="generatePredictions" loading="{{generatingPredictions}}">
      {{generatingPredictions ? '生成中...' : '生成推荐号码'}}
    </button>
  </view>

  <!-- 预测结果 -->
  <view class="results-card card" wx:if="{{showResults}}">
    <text class="section-title">号码推荐</text>
    <text class="section-subtitle">基于历史数据分析的热门和冷门号码</text>
    
    <!-- 热门号码 -->
    <view class="prediction-section">
      <text class="prediction-title">热门号码</text>
      <view class="numbers-section">
        <text class="section-label">前区：</text>
        <view class="numbers-container">
          <view class="number-ball front-ball" wx:for="{{hotFrontNumbers}}" wx:key="index">
            {{item}}
          </view>
        </view>
      </view>
      <view class="numbers-section">
        <text class="section-label">后区：</text>
        <view class="numbers-container">
          <view class="number-ball back-ball" wx:for="{{hotBackNumbers}}" wx:key="index">
            {{item}}
          </view>
        </view>
      </view>
    </view>

    <!-- 冷门号码 -->
    <view class="prediction-section">
      <text class="prediction-title">冷门号码</text>
      <view class="numbers-section">
        <text class="section-label">前区：</text>
        <view class="numbers-container">
          <view class="number-ball front-ball" wx:for="{{coldFrontNumbers}}" wx:key="index">
            {{item}}
          </view>
        </view>
      </view>
      <view class="numbers-section">
        <text class="section-label">后区：</text>
        <view class="numbers-container">
          <view class="number-ball back-ball" wx:for="{{coldBackNumbers}}" wx:key="index">
            {{item}}
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 底部导航 -->
  <view class="footer">
    <navigator url="/pages/history/history" class="nav-link">
      <text>查看历史数据 →</text>
    </navigator>
  </view>
</view>