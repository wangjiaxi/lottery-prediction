# 微信小程序云开发版本部署指南

## 🚀 快速开始

### 1. 导入项目到微信开发者工具
1. 打开微信开发者工具
2. 选择"导入项目"
3. 选择 `miniprogram-cloud` 目录
4. 填写你的 AppID
5. 点击"确定"导入

### 2. 解决网络连接问题
小程序已经配置了**降级方案**：
- 云开发不可用时自动使用本地数据
- 内置示例数据，无需网络即可测试功能
- 本地预测算法，不依赖云端计算

### 3. 测试功能
1. 点击"获取最新数据"添加示例数据
2. 点击"生成推荐号码"测试预测功能
3. 切换到"历史数据"页面查看数据

## ☁️ 云开发配置（可选）

### 1. 开通云开发
1. 在微信开发者工具中点击"云开发"
2. 开通云开发服务
3. 创建云环境

### 2. 部署云函数
1. 右键点击 `cloud/functions` 目录
2. 选择"上传并部署：云端安装依赖"
3. 等待所有云函数部署完成

### 3. 配置云环境
在 `app.js` 中修改云环境ID：
```javascript
wx.cloud.init({
  env: '你的云环境ID', // 替换为实际ID
  traceUser: true,
})
```

## 📱 功能说明

### 核心功能
- ✅ **数据状态监控** - 显示云端/本地数据量
- ✅ **智能号码推荐** - 热门和冷门号码分析
- ✅ **历史数据查询** - 表格形式展示开奖记录
- ✅ **数据更新** - 支持示例数据和云端更新

### 降级方案
- 🔄 **网络失败时**：自动切换到本地数据模式
- 🔄 **云函数不可用**：使用本地预测算法
- 🔄 **无数据时**：内置示例数据供测试

## 🛠 故障排除

### 常见问题
1. **网络连接失败**
   - 原因：云开发环境未配置或网络问题
   - 解决：使用本地数据模式，功能不受影响

2. **图标文件缺失**
   - 原因：tabBar配置了图标但文件不存在
   - 解决：已移除图标配置，使用纯文本标签

3. **云函数调用失败**
   - 原因：云环境未开通或函数未部署
   - 解决：使用本地算法，功能正常

### 调试技巧
1. 打开开发者工具调试面板
2. 查看控制台输出信息
3. 检查网络请求状态
4. 验证本地存储数据

## 📊 数据管理

### 本地数据存储
- 位置：小程序本地存储
- 容量：最大10MB
- 持久化：关闭小程序后数据保留

### 云端数据（需配置）
- 位置：云开发数据库
- 优势：多设备同步，数据安全
- 配置：开通云开发后自动同步

## 🎯 生产部署

### 1. 测试环境
- 使用本地数据模式测试所有功能
- 验证界面交互和用户体验

### 2. 云开发配置
- 开通云开发服务
- 部署云函数
- 配置云环境ID

### 3. 提交审核
- 确保所有功能正常
- 准备必要的说明文档
- 提交微信小程序审核

## 📞 技术支持

如有问题，请检查：
1. 微信开发者工具版本是否最新
2. 小程序基础库版本是否支持云开发
3. 网络连接是否正常
4. 云开发服务是否已开通

**注意：** 本小程序为演示用途，彩票预测仅供参考，请理性购彩。